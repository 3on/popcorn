var Component=require("montage/ui/component").Component,RangeController=require("montage/core/range-controller").RangeController;exports.Facadeflow=Component.specialize({constructor:{value:function(){var e=RangeController.create();e.defineBinding("content",{"<-":"category",source:this}),this.buttonController=e,this.application.addEventListener("dataReceived",this,!1)}},selectedMovie:{value:null},_scroll:{value:null},scroll:{set:function(e){this._scroll=e,0===e%1&&this.category?(this.selectedMovie=this.category[e],this.detailsFadeIn=!0,this.detailsFadeOut=!1,this.needsDraw=!0):0!==e%1&&this.category&&(this.detailsFadeOut=!0,this.detailsFadeIn=!1,this.needsDraw=!0)},get:function(){return this._scroll}},_fadeIn:{value:!1},_fadeOut:{value:!1},latestBoxofficeMovies:{value:null},upcomingMovies:{value:null},inTheaters:{value:null},topDvdRentals:{value:null},category:{value:null},buttonController:{value:null},_switchValue:{value:null},switchValue:{set:function(e){this._switchValue=e},get:function(){return this._switchValue}},_categoryId:{value:null},categoryId:{get:function(){return this._categoryId},set:function(e){e&&(this._categoryId=e,this._changeCategory(e))}},_changeCategory:{value:function(e){var t=this;this.detailsFadeOut=!0,this._fadeOut=!0,this.needsDraw=!0,setTimeout(function(){t.templateObjects&&t.templateObjects.flow&&(t.templateObjects.flow.scroll=0),t.category=t[e],t.selectedMovie=t.category[0],t._fadeIn=!0,t._fadeOut=!1,t.detailsFadeIn=!0,t.detailsFadeOut=!1,t.needsDraw=!0},800)}},handleDataReceived:{value:function(){this.category=this.latestBoxofficeMovies,this.selectedMovie=this.category[0],this.detailsFadeIn=!0,this._fadeIn=!0,this.needsDraw=!0}},draw:{value:function(){var e=this.templateObjects.flow,t=this.details;this._fadeIn&&(e.element.classList.remove("flow-fade-out"),this._fadeIn=!1),this._fadeOut&&(e.element.classList.add("flow-fade-out"),this._fadeOut=!1),this.detailsFadeIn&&(t.element.classList.remove("details-fade-out"),this.detailsFadeIn=!1),this.detailsFadeOut&&(t.element.classList.contains("details-fade-out")===!1&&t.element.classList.add("details-fade-out"),this.detailsFadeOut=!1)}}});